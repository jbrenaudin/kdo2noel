#{extends 'main.html' /}

#{set 'menus'}
	<ul class="nav">
  		<li id="menuCadeaux"><a href="@{Cadeaux.maListe()}">Mes listes</a></li>
  		<li id="menuAchats"><a href="@{Achats.mesAchats()}">Mes achats</a></li>
  		<li id="menuAmis"><a href="@{Amis.mesAmis()}">Mes amis&nbsp;<span id="nombreDInvitationsRecues" class="label label-warning"></span></a></li>
	</ul>
#{/set}

#{set 'options'}
	<ul class="nav pull-right">
		<li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        		${utilisateur.surnom} <b class="caret"></b>
        	</a>
          	<ul class="dropdown-menu">
            	<li><a href="@{Securite.deconnexion()}">&{'action.seDeconnecter'}</a></li>
          </ul>
        </li>
	</ul>
#{/set}

#{set 'moreScripts'}
	#{get 'moreScripts' /}
	function activeMenu(idMenu) {
		$("#menu" + idMenu).addClass("active");
	}
	function mettreAJourLeNombreDInvitationsRecues(nbInvitation) {
		$("#nombreDInvitationsRecues").text(nbInvitation + "");
		if (nbInvitation == 0) $("#nombreDInvitationsRecues").hide();
		else $("#nombreDInvitationsRecues").show();
	}
	$(function() {
		mettreAJourLeNombreDInvitationsRecues(&{utilisateur.nombreDInvitationsRecues});
	});
#{/set}				

#{ifErrors}	
	<div class="row-fluid">
		<div class="alert">
			<button class="close" data-dismiss="alert">Ã—</button>
			#{errors}
			    <li><strong>Erreur !!! </strong> ${error}.</li>
			#{/errors}
		</div>
	</div>	
#{/ifErrors}

<div class="row-fluid">
	#{doLayout /}
</div>